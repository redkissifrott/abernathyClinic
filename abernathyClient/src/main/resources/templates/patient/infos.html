<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhml" xmlns:th="http://www.thymeleaf.org">
    
   <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
        <title>Patient Infos</title>
        <link rel="stylesheet" type="text/css" href="/webjars/bootstrap/css/bootstrap.min.css" />
        <link rel="stylesheet" href="https://formden.com/static/cdn/font-awesome/4.4.0/css/font-awesome.min.css" />
        <link rel="stylesheet" href="https://formden.com/static/cdn/bootstrap-iso.css" />
        <style>.bootstrap-iso .formden_header h2, .bootstrap-iso .formden_header p, .bootstrap-iso form{font-family: Arial, Helvetica, sans-serif; color: black}.bootstrap-iso form button, .bootstrap-iso form button:hover{color: white !important;} .asteriskField{color: red;}</style>
        <link th:href="@{/styles.css}" rel="stylesheet" />
        <link th:href="@{/login.css}" rel="stylesheet" />
    	<script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
    	<script type="text/javascript" src="/webjars/bootstrap/js/bootstrap.min.js"></script>
    </head>
<body>
	<div class="container-fluid pages">
    <div class="bootstrap-iso">

<h1>Patient Infos</h1>

<p>
    <a style="font-weight: bold; text-align: right" th:href="@{/patient/list}"> Back to patients list</a>
</p>

<div class="container-fluid" style="width: 900px">
		
		<div th:if="${errorMessage!=null}" style="color:red;font-style:italic" th:utext="${errorMessage}">..</div>
		
		<div style="background-color: #f5f5f5; padding: 1rem 1rem;  width: 800px">
        <p><strong>Name :</strong> <span th:text="${patientInfos.family}"></span></p>
        <p><strong>Last Name :</strong> <span th:text="${patientInfos.given}"></span></p>
        <p><strong>Date of Birth :</strong> <span th:text="${patientInfos.dob}"></span></p>
        <p><strong>Gender :</strong> <span th:text="${patientInfos.sex}"></span></p>
        <p><strong>Address :</strong> <span th:text="${patientInfos.address}"></span></p>
        <p><strong>Phone :</strong> <span th:text="${patientInfos.phone}"></span></p>
        </div>
        <a th:href="@{/patient/assess(id=${patientInfos.id})}" type="button" class="btn btn-primary">Diabetes risk</a>
        <a th:href="@{/patient/update(id=${patientInfos.id})}" type="button" class="btn btn btn-warning">Update patient</a>
        <a th:href="@{/patient/delete(id=${patientInfos.id})}" type="button" class="btn btn-danger">Delete patient</a>


<p th:if="${#lists.isEmpty(patientNotes)}">
    No note yet for this patient
</p>

<!-- <div th:unless="${#lists.isEmpty(patientNotes)}"> -->
<!--      <table> -->
<!--         <tr th:each="note : ${patientNotes}"> -->
<!--             <td th:text="${note.recommendations}"></td> -->
<!--         </tr> -->
<!--      </table> -->
<!-- </div>  -->
 <p class="h4" style="margin-left: -15px">Notes :</p>
        	<div class="container-fluid" style="width: 800px">
			<div style="background-color: #f5f5f5; padding: 3rem 1rem; margin: 3px 19px 0 -47px" class="row">
<div th:each="note : ${patientNotes}" style="width: 100%">
<pre th:text="${note.recommendations}"></pre>
<div style="margin: -11px 0 9px 0; text-align:right"><a th:href="@{/patient/updateNote(id=${note.id})}" >Update Note</a></div>
<div style="margin: -11px 0 9px 0; text-align:right"><a href="/patient/update-note" >Update Note</a></div>
</div>

<textarea rows="8" cols="120" name="recommendation" form="noteform">
</textarea>   

<form method="POST" type="text" th:action="@{/patient/addNote(id=${patientInfos.id})}" id="noteform">
 <button type="submit" class="btn btn-success" name="action" value="submitnote">Submit</button>
</form>

</div>
</div>
</div>
</div>
</div>
</body>
</html>